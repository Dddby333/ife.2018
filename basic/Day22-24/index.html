<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Day22-24</title>
</head>
<body>
    <div>
        <label>Number A:<input id="radio-a" type="radio" name="math-obj" value="a"></label><input id="num-a" type="text">
        <label>Number B:<input id="radio-b" type="radio" name="math-obj" value="b"></label><input id="num-b" type="text">
    </div>
    <div>
        <button>判断当前选中的输入框输入内容是否为数字</button>
        <button>把 A 四舍五入为 B 个小数位数的数字</button>
        <button>当前选中数字的绝对值</button>
        <button>对当前选中的数字进行上舍入</button>
        <button>对当前选中的数字进行下舍入</button>
        <button>把当前选中的数字四舍五入为最接近的整数</button>
        <button>返回 A 和 B 中的最高值</button>
        <button>返回 A 和 B 中的最低值</button>
    </div>
    <p id="result"></p>
    <hr>

<!--任务二-->
    <div>
        <label>String A:
            <input id="radio-c" type="radio" checked="true" name="str-obj" value="a">
        </label>
        <textarea id="str-a"></textarea>
        <label>String B:
            <input id="radio-d" type="radio" name="str-obj" value="b">
        </label>
        <textarea id="str-b"></textarea>
            <label>Num C：<input id="num-c" type="number" value="0"></label>
        <label>Num D：<input id="num-d" type="number" value="1"></label>
    </div>
    <div id="buttons1">
        <button>获取当前选中输入的内容长度</button>
        <button>当前选中输入中的第3个字符</button>
        <button>把两个输入框的文字连接在一起输出（concat）</button>
        <button>输入B中的内容，在输入A的内容中第一次出现的位置（indexOf）</button>
        <button>输入A中的内容，在输入B的内容中最后一次出现的位置（lastIndexOf）</button>
        <button>使用slice获取选中输入框内容的部分内容，参数为num-c及num-d</button>
        <button>当前选中输入框的行数</button>
        <button>使用substr获取选中输入框内容的子字符串，参数为num-c及num-d</button>
        <button>把所选输入框中的内容全部转为大写</button>
        <button>把所选输入框中的内容全部转为小写</button>
        <button>把所选输入框中内容的半角空格全部去除</button>
        <button>把所选输入框中内容的a全部替换成另外一个输入框中的内容</button>
    </div>
    <p id="result1"></p>
    <hr>


    <!--任务五-->
    <input id="queue-input" type="text">
    <p id="queue-cont">队列内容：apple-&gt;pear</p>
    <button id="in-btn">入队</button>
    <button id="out-btn">出队</button>
    <button id="font-btn">打印队头元素内容</button>
    <button id="empty-btn">判断队列是否为空</button>
    <hr>

<!--任务六-->
    <input id="queue-input1" type="text">
    <p id="queue-cont1">队列内容：apple&lt;-pear</p>
    <button id="in-btn1">入队</button>
    <button id="out-btn1">出队</button>
    <button id="font-btn1">打印队头元素内容</button>
    <button id="empty-btn1">判断队列是否为空</button>
    <hr>


    <!--任务七-->
    <input id="stack-input" type="text">
    <p id="stack-cont">栈内容：apple&lt;-pear</p>
    <button id="push-btn">进栈</button>
    <button id="pop-btn">退栈</button>
    <button id="font-btn3">打印栈顶元素内容</button>
    <button id="empty-btn3">判断栈是否为空</button>

<script>
//        任务一

//按键一
        const result=document.getElementById("result"),
              numA=document.getElementById("num-a"),
              numB=document.getElementById("num-b"),
              radioa=document.querySelector("#radio-a"),
              radiob=document.querySelector("#radio-b"),
              buttons=document.getElementsByTagName("button");
        function isNumber(num){
            if ((!isNaN(num.value))&&(!num.value=='')) {
                return true
            } else {
                return false
            }
        }

        function ischeck(check) {
            if(check.checked){
                return true;
            }
            else{
                return false;
            }
        }
        buttons[0].addEventListener('click',function(){
            if(ischeck(radioa))
            {
                if(isNumber(numA))
                    result.innerHTML="这是一个数字";
                else{
                    result.innerHTML="这不是一个数字";
                }
            }
            if(ischeck(radiob))
            {
                if(isNumber(numB))
                    result.innerHTML="这是一个数字";
                else{
                    result.innerHTML="这不是一个数字";
                }
            }
        });

//        按键二
        buttons[1].addEventListener('click',function () {
            var A=parseFloat(numA.value);
            console.log=A;
            result.innerHTML=A.toFixed(parseInt(numB.value));
        });

//        按键三
        buttons[2].addEventListener('click',function () {
            if(ischeck(radioa)){
                result.innerHTML=Math.abs(Number(numA.value));
            }
            if(ischeck(radiob)){
                result.innerHTML=Math.abs(Number(numB.value));
            }
        });
        
//        按键四 上舍入
        buttons[3].addEventListener('click',function () {
            if(ischeck(radioa)){
                result.innerHTML=Math.ceil(Number(numA.value));
            }
            if(ischeck(radiob)){
                result.innerHTML=Math.ceil(Number(numB.value));
            }
        });

//        按键五 下舍入
    buttons[4].addEventListener('click',function () {
        if(ischeck(radioa)){
            result.innerHTML=Math.floor(Number(numA.value));
        }
        if(ischeck(radiob)){
            result.innerHTML=Math.floor(Number(numB.value));
        }
    });

//    按键六 最接近
    buttons[5].addEventListener('click',function () {
        if(ischeck(radioa)){
            result.innerHTML=Math.round(Number(numA.value));
        }
        if(ischeck(radiob)){
            result.innerHTML=Math.round(Number(numB.value));
        }
    });

//    按键七 最高值
    buttons[6].addEventListener('click',function () {
        if(Number(numA.value)>Number(numB.value)) {
            result.innerHTML = '最大值为' + Number(numA.value);
        }
        else{
            result.innerHTML='最大值为'+Number(numB.value);
        }
    });
//    按键八 最低值
buttons[7].addEventListener('click',function () {
    if(Number(numA.value)>Number(numB.value)) {
        result.innerHTML = '最小值为' + Number(numB.value);
    }
    else{
        result.innerHTML='最小值为'+Number(numA.value);
    }
});

//        任务二
    const radioc = document.querySelector('#radio-c'),
        radiod = document.querySelector('#radio-d'),
        strA = document.querySelector('#str-a'),
        strB = document.querySelector('#str-b'),
        numC = document.querySelector('#num-c'),
        numD = document.querySelector('#num-d'),
        result1 = document.querySelector('#result1'),
        buttons1 = document.querySelectorAll('#buttons1>button');

//    按键一 选中内容长度
    buttons1[0].addEventListener('click',function () {
        if(ischeck(radioc)){
            result1.innerHTML=strA.value.length;
        }
        else if(ischeck(radiod)){
            result1.innerHTML=strB.value.length;
        }
    });

//  按键二 第三个字符
    buttons1[1].addEventListener('click', function () {
        if (ischeck(radioc)) {
            result1.innerHTML = strA.value.charAt(2);
        } else if (ischeck(radiod)) {
            result1.innerHTML = strB.value.charAt(2);
        }
    });
//  按键三 连接文字
    buttons1[2].addEventListener('click', function () {
        result1.innerHTML = strA.value.concat(strB.value);
    });

//    按键四 b在A第一次出现
    buttons1[3].addEventListener('click', function () {
        result1.innerHTML = strA.value.indexOf(strB.value);
    });

//        按键五 a在b最后出现
    buttons1[4].addEventListener('click', function () {
        result1.innerHTML = strA.value.lastIndexOf(strB.value);
    });

//    按键六 slice选部分内容
    buttons1[5].addEventListener('click', function () {
        if (ischeck(radioc)) {
            result1.innerHTML = strA.value.slice(numC.value, numD.value);
        } else if (ischeck(radiod)) {
            result1.innerHTML = strB.value.slice(numC.value, numD.value);
        }
    });

//        按键七 行数
    buttons1[6].addEventListener('click', function () {
        if (ischeck(radioc)) {
            result1.innerHTML = strA.rows;
        } else if (ischeck(radiod)) {
            result1.innerHTML = strB.rows;
        }
    });

//        按键八 substr选中
    buttons1[7].addEventListener('click', function () {
        if (ischeck(radioc)) {
            result1.innerHTML = strA.value.substr(numC.value, numD.value);
        } else if (ischeck(radiod)) {
            result1.innerHTML = strB.value.substr(numC.value, numD.value);
        }
    });

//    按键九 换大写
    buttons1[8].addEventListener('click', function () {
        if (ischeck(radioc)) {
            result1.innerHTML = strA.value.toUpperCase();
        } else if (ischeck(radiod)) {
            result1.innerHTML = strB.value.toUpperCase()
        }
    });

//    按键十 换小写
    buttons1[9].addEventListener('click', function () {
        if (ischeck(radioc)) {
            result1.innerHTML = strA.value.toLowerCase();
        } else if (ischeck(radiod)) {
            result1.innerHTML = strB.value.toLowerCase()
        }
    });

//    按键十一 去除半角空格
    buttons1[10].addEventListener('click', function () {
        if (ischeck(radioc)) {
            result1.innerHTML = strA.value.replace(/ /g,'');
        } else if (ischeck(radiod)) {
            result1.innerHTML = strB.value.replace(/ /g,'');
        }
    });

//        按键十二 B换A
    buttons1[11].addEventListener('click',function () {
        if (ischeck(radioc)) {
            result1.innerHTML = strA.value.replace(strA.value, strB.value)
        } else if (ischeck(radiod)) {
            result1.innerHTML = strB.value.replace(strB.value, strA.value)
        }
    });


//        任务三
/*
 实现一个字符串头尾去除空格的函数
 注意需要去除的空格，包括全角、半角空格
 暂时不需要学习和使用正则表达式的方式
 */
function diyTrim(str) {
    for(var i=0,len=str.length;i<len;i++){
        if(str[0]==' '||str[0]=='　'){
//            全角空格与半角空格
            str=str.slice(1);
        }
        else if(str[str.length-1]==' '||str[str.length-1]=='　'){
            str=str.slice(0,str.length-2)
        }
        else{
            break;
        }
    }
    return str;
}

// 测试用例
//console.log(diyTrim(' a f b    ')); // ->a f b
//console.log(diyTrim('    ffdaf    ')); // ->ffdaf
//console.log(diyTrim('1    ')); // ->1
//console.log(diyTrim('　　f')); // ->f
//console.log(diyTrim('  　  a f b 　　 ')); // ->a f b
//console.log(diyTrim(' ')); // ->
//console.log(diyTrim('　')); // ->
//console.log(diyTrim('')); // ->

/*
 去掉字符串str中，连续重复的地方
 */
    function removeRepetition(str) {
        var result3='';
        for(var i=0,len=str.length;i<len;i++) {//这里一定要先定义一个变量为字符串原长，因为每次循环字符串都在变短。
            if(str[0]==str[1]){
                str=str.slice(1);//判断前后是否一样
            } else{
                result3=result3+str[0];//如果不一样就存入第一个字符并且要往后继续移一个
                str=str.slice(1);
            }
        }
        return result3;
    }

//     测试用例
//    console.log(removeRepetition("aaa")); // ->a
//    console.log(removeRepetition("abbba")); // ->aba
//    console.log(removeRepetition("aabbaabb")); // ->abab
//    console.log(removeRepetition("")); // ->
//    console.log(removeRepetition("abc")); // ->abc

//        任务四
    var tree = {
        "id": 0,
        "name": "root",
        "left": {
            "id": 1,
            "name": "Simon",
            "left": {
                "id": 3,
                "name": "Carl",
                "left": {
                    "id": 7,
                    "name": "Lee",
                    "left": {
                        "id": 11,
                        "name": "Fate"
                    }
                },
                "right": {
                    "id": 8,
                    "name": "Annie",
                    "left": {
                        "id": 12,
                        "name": "Saber"
                    }
                }
            },
            "right": {
                "id": 4,
                "name": "Tony",
                "left": {
                    "id": 9,
                    "name": "Candy"
                }
            }
        },
        "right": {
            "id": 2,
            "name": "right",
            "left": {
                "id": 5,
                "name": "Carl"
            },
            "right": {
                "id": 6,
                "name": "Carl",
                "right": {
                    "id": 10,
                    "name": "Kai"
                }
            }
        }
    };


    // 假设id和name均不会重复，根据输入name找到对应的id
    function findIdByName(name) {
        var id;

        function find(obj) {
            if (obj != null) {
                if (obj.name === name) {
                    id = obj.id;
                }
                find(obj.left);
                find(obj.right);
            }
        }
        find(tree);
        return id;
    }


    //测试用
//        console.log("通过名字找id");
//        console.log(findIdByName('Saber'));
//        console.log(findIdByName('Fate'));
    // 假设id和name均不会重复，根据输入id找到对应的name
        function findNameById(id) {
            var name;
            function find(obj) {
                if(obj!=null){
                    if(obj.id===id){
                        name=obj.name;
                    }
                    find(obj.left);
                    find(obj.right);
                }
            }
            find(tree);
            return name;
        }

//测试用
//        console.log("通过id找名字");
//        console.log(findNameById(3));
//        console.log(findNameById(7));

            // 把这个对象中所有的名字以“前序遍历”的方式全部输出到console中
        //先从根节点，到左子树，再到右子树，简称根左右。
            var arr=[];
            function getListWithDLR() {
                function DLR(obj) {
                    if(obj){
                        arr.push(obj.name);
                        DLR(obj.left);
                        DLR(obj.right);
                    }
                }
                DLR(tree);
                console.log(arr);
            }

            // 把这个对象中所有的名字以“中序遍历”的方式全部输出到console中
//从左节点，到根节点，再到右子树，简称左根右。
            function getListWithLDR() {
                function LDR(obj) {
                    if(obj){
                        LDR(obj.left);
                        arr.push(obj.name);
                        LDR(obj.right);
                    }
                }
                LDR(tree);
                console.log(arr);
            }

            // 把这个对象中所有的名字以“后序遍历”的方式全部输出到console中
            //从左子树，到右子树，再到根节点，简称左右根。
            function getListWithLRD(obj) {
                function LRD(obj) {
                    if(obj){
                        LRD(obj.left);
                        LRD(obj.right);
                        arr.push(obj.name);
                    }
                }
                LRD(tree);
                console.log(arr);
            }
//测试用
//    console.log("前序遍历");
//    getListWithDLR();
//    console.log("中序遍历");
//    getListWithLDR();
//    console.log("后序遍历");
//    getListWithLRD();


//任务五
    var queue = ["apple", "pear"],
        queueinput = document.querySelector('#queue-input'),
        queuecont = document.querySelector('#queue-cont'),
        inbtn = document.querySelector('#in-btn'),
        outbtn = document.querySelector('#out-btn'),
        fontbtn = document.querySelector('#font-btn'),
        emptybtn = document.querySelector('#empty-btn');

        inbtn.onclick=function () {
            queue.unshift(queueinput.value);
            queuecont.innerHTML=queue.join('-&gt;');
        };
        outbtn.onclick=function () {
            queue.pop();
            queuecont.innerHTML=queue.join('-&gt;');
        };
        fontbtn.onclick=function () {
            queuecont.innerHTML=queue[queue.length-1];
        };
        emptybtn.onclick=function () {
            if(queue.length==0)
                queuecont.innerHTML='队列为空';
            else
                queuecont.innerHTML='队列不为空';
        };

        //任务六
    var queue1 = ["apple", "pear"],
        queueinput1= document.querySelector('#queue-input1'),
        queuecont1 = document.querySelector('#queue-cont1'),
        inbtn1 = document.querySelector('#in-btn1'),
        outbtn1 = document.querySelector('#out-btn1'),
        fontbtn1 = document.querySelector('#font-btn1'),
        emptybtn1 = document.querySelector('#empty-btn1');

    inbtn1.onclick=function () {
        queue1.push(queueinput1.value);
        queuecont1.innerHTML=queue1.join('&lt;-');
    };
    outbtn1.onclick=function () {
        queue1.shift(queueinput1.value);
        queuecont1.innerHTML=queue1.join('&lt;-');
    };
    fontbtn1.onclick=function () {
        queuecont1.innerHTML=queue1[0];
    };
    emptybtn1.onclick=function () {
        if(queue1.length==0)
            queuecont1.innerHTML='队列为空';
        else
            queuecont1.innerHTML='队列不为空';
    };

    //任务七
    var stackCont = document.getElementById('stack-cont');
    var stackInput = document.getElementById('stack-input');
    var pushBtn = document.getElementById('push-btn');
    var popBtn = document.getElementById('pop-btn');
    var fontBtn3 = document.getElementById('font-btn3');
    var emptyBtn3 = document.getElementById('empty-btn');
    var queue3 = ['apple', 'pear'];

    pushBtn.onclick=function () {
        queue3.unshift(stackInput.value);
        stackCont.innerHTML=queue3.join('-&gt;');
    };

    popBtn.onclick=function () {
        queue3.shift();
        stackCont.innerHTML=queue3.join('-&gt;');
    };
    fontBtn3.onclick=function () {
        stackCont.innerHTML=queue3[0];
    };

    emptyBtn3.onclick=function () {
        if(queue3.length==0)
            stackCont.innerHTML='队列为空';
        else
            stackCont.innerHTML='队列不为空';
    };


    //任务八
    var arr1 = [43, 54, 4, -4, 84, 100, 58, 27, 140];
    //将上面数组分别按从大到小以及从小到大进行排序后在console中输出

    var arr2 = ['apple', 'dog', 'cat', 'car', 'zoo', 'orange', 'airplane'];
    //将上面数组分别按字母顺序a-z及z-a进行排序，在console中输出

    var arr3 = [[10, 14], [16, 60], [7, 44], [26, 35], [22, 63]];
   // 将上面的二维数组，按照每个元素中第二个数从大到小的顺序进行排序输出，输出结果应该为：
    //[[22, 63], [16, 60], [7, 44], [26, 35], [10, 14]]
    var arr4 = [
        {
            id: 1,
            name: 'candy',
            value: 40
        }, {
            id: 2,
            name: 'Simon',
            value: 50
        }, {
            id: 3,
            name: 'Tony',
            value: 45
        }, {
            id: 4,
            name: 'Annie',
            value: 60
        }
    ];

    //测试用
    console.log("从大到小排序");
    arr1.sort((a, b) => b - a);
    console.log(arr1);
    console.log("从小到大排序");
    arr1.sort();
    console.log(arr1);
    console.log("从a-z");
    console.log(arr2.sort());
    console.log("从z-a");
    console.log(arr2.reverse());
    console.log("二维数组从大到小");
    arr3.sort(function (a,b) {
        return b[1]-a[1];
    });
    console.log(arr3);
    console.log("按照值");
    arr4.sort(function(a,b){
        return a.value-b.value;
});
    console.log(arr4);


    //任务九
    var scoreObject = {
        "Tony": {
            "Math": 95,
            "English": 79,
            "Music": 68
        },
        "Simon": {
            "Math": 100,
            "English": 95,
            "Music": 98
        },
        "Annie": {
            "Math": 54,
            "English": 65,
            "Music": 88
        }
    };
    //转数组为对象
    var arr5=[];
    for(var i in scoreObject){
        var arr6=[];//存姓名
        arr6.push(i);
        for(var j in scoreObject[i]){
            arr6.push(scoreObject[i][j]);
        }
        arr5.push(arr6);
    }
    console.log(arr5);

    var menuArr = [
        [1, "Area1", -1],
        [2, "Area2", -1],
        [3, "Area1-1", 1],
        [4, "Area1-2", 1],
        [5, "Area2-1", 2],
        [6, "Area2-2", 2],
        [7, "Area1-2-3", 4],
        [8, "Area2-2-1", 6],
    ];

    var arr7=[];
    for(var a in menuArr){

    }
//想了半天没想出来，哭
</script>
</body>
</html>